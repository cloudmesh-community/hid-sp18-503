% status: 30
% chapter: TBD

\title{Swager Service for an Openstack Deployment}


\author{Arnav Arnav}
\affiliation{%
  \institution{Indiana
  University} \city{Bloomington} \state{IN} \postcode{47408} \country{USA}}
\email{aarnav@iu.edu}


% The default list of authors is too long for headers}
\renewcommand{\shortauthors}{Arnav}


\begin{abstract}
Openstack is one of the most important cloud coputing Infrastructure
as a Service that allows users to setup and manage servers easily. It
provides APIs that help users to manage these services through
command-line and through code. The NIST Big Data Reference
Architecture defines a reference architecture for various objects that
are important in the context of cloud computing. In this project we
aim to build a REST service using these object specifications that
help users complete an openstack deployment easily.
\end{abstract}

\keywords{hid-sp18-503, Swagger, Openstack, API, Cloud}


\maketitle

\section{Introduction}
Openstack is a free and open source cloud Infrastructure as a Service
that allows users to set up resources such as virtual servers for
their customers. It is one of the most widely deployed cloud
infrastructure and is constantly improving. It provides an openstack
python software development toolkit (sdk) that contains python APIs
for openstack services along with command line tools that allow users
to write python code to remotely perform actions on the openstack
cloud.

Representational State Transfer (REST) is an architectural standard
for web applications that allows different applications to comunicate
easily. It allows separation of clients and servers and the server
funcionality can be esily changed without affecting the client's
interface to the server. REST is highly scalable and easy to
extend~\cite{hid-sp18-503-REST}. The NIST Big Data Reference
Architecture defines standard properties for objects that that are
important to Big Data echosystem.

These objects can be easily accessed or transferred with the use of
RESTful Applications that use REST verbs (GET, PUT, POST, UPDATE,
DELETE) to manipulate these objects~\cite{hid-sp18-503-REST}.

We aim to develop a REST service with the help of Swagger - a tool
that converts a yml specification to code - that can be used by other
applications to setup and manage Virtual Machines on openstack.

Doing this requires identification of various objects that are needed
to accomplish such a task. Some of these are images, servers,
keypairs, networks, and subnets. Each of these objects should be
accessible from the REST application, so that they can be updated and
stored as necessary.

\section{Openstack Services}
Openstack consists of various services that are responsible for
different operations. Each of htese services are important from a
users viewpoit and are described below:

\begin{itemize}
\item \textbf{Keystone}: Keystone is the identity management system for
openstack. It is responsible for authentication and high level
authorization.  It is this service that generates authentication
tokens a and identifies users with the help of passwords and provides
the need for users to identify themselvs in their
applications. Keystone can be integrated with third party services
such as Lightweight Directory Access Protocol
(LDAP)~\cite{hid-sp18-503-oracle-openstack}
\cite{hid-sp18-503-keystone}.

\item \textbf{Nova}: Nova is the compute service from Openstack, and is
responsible for the management, creation and deletion of virtual
machines with the help of various daemons running on linux.  Nova
allows administrators to choose the hypervisor of their choice while
providing a common API to manage VMs. Nova requires Keystone, Glance
and Neutron to work~\cite{hid-sp18-503-oracle-openstack}
\cite{hid-sp18-503-nova}.

\item \textbf{Glance}: The service responsible for managing and cataloging
images that are uploaded by the users. Glance was built to be the
store for objects required by other services, and the support fot
other objects can be added later~\cite{hid-sp18-503-oracle-openstack}
\cite{hid-sp18-503-glance}.

\item \textbf{Neutron}: Neutron is a networking service provided by openstack.
It is responsible for creating networks between VMs and in addition
includes a firewall, load ballancer, and allows users to create
Virtual Private Networks.  Neutron providesvarious virtual
abstractions such as subnets and routers which work in the same manner
as the physical devices
\cite{hid-sp18-503-oracle-openstack}
\cite{hid-sp18-503-neutron}.

\item \textbf{Cinder}: Cinder is the openstck \emph{block storage as a service}
responsible for managing the external storage including external
volumes and Network File storage (NFS). It is highly availabe, fault
taulerant and is easily recoverable after failures
\cite{hid-sp18-503-cinder}.

\item \textbf{Heat}: Heat is the cloud orchestration layer on opestack. It
is responsible for providing Floating IPs, managing security groups,
servers and many other services. Heat allows all this to be done with
the help of a template file defined by the user that allows Heat to
execute the correct API calls to provision the specied
cloud~\cite{hid-sp18-503-oracle-openstack}
\cite{hid-sp18-503-heat}.

\item \textbf{Horizon}: Horizon is the Graphical User Interface (GUI) dashboard
that allows users to conect to openstack and and access openstack
services using their web browsers~\cite{hid-sp18-503-oracle-openstack}
\cite{hid-sp18-503-horizon}.

Openstack provides differnet clients for each of these services that
can be installed individually as needed. They provide a common unified
API with the help of the openstack SDK that allows users to access
most of thse sevices. Some of the services do not have complete
functionality in the openstack SDK, which will be included in the near
future~\cite{hid-sp18-503-openstack-sdk}.
\end{itemize}

\section{Openstack SDK}
The openstack SDK is a client library that alows users, and
applications to interact with openstack services. It aims at providing
all of the functionality that is provided by the services along with
proper documentation and examples. The SDK provides an abstraction
layer that abstracts away the complxities of the differences in
specific openstack deployments, while also providing service specific
tools when complex functions are to be
performed~\cite{hid-sp18-503-openstack-sdk-history}.

The openstack SDK was built initially from three different libraries-
shade, os-client-config and python-openstacksdk. Shade was initially a
part of the openstack nodepool project with some of its code written
inside the Ansible openstack module. It was later consolidated and
moved into \emph{openstack.cloud} module. The philosophy from nodepool
allows the users to change clouds they want to connect to in their
code, without worrying much about the differences. The
os-client-config was a library written to gather the configuration
information from different deployments in a consistent manner. This
was moved to \emph{openstack.config} module which now reads the
configuration from the \emph{clouds.yaml} file (if available). The
python-openstacksdk was a library that exposed the API to
developers~\cite{hid-sp18-503-openstack-sdk-history}.


The sdk can be eaily installed from the Python Pagkage Index (PyPI)
using the command:

\begin{verbatim}
pip install openstacksdk
\end{verbatim}

The sdks for the individual services, if needed can be installed
similarly using pip as follows:

\begin{verbatim}
pip install python-PROJECTclient
\end{verbatim}

where PROJECT should be replaced with the name of the partcular
service (such as nova)

To use the openstack sdk, and communicate with a cloud, first a
connection must be created to the cloud. This can be done either by
using a clouds.yaml file or by explicitly passing the variables to
the \emph{openstack.connect\(\)} method. Once a connection is made, the
application can communicate to different services using the openstack
sdk. These services are included in the modules named based on the
service functionality for simplicity for users not familiar with
openstack terminology. The neutron servce is abstracted in the
module \emph{openstack.network}, the nova service
to \emph{openstack.compute} module, the keystone service
to \emph{openstack.identity} module and so on.

\section{Object Definitions}
The objects that are used in this project are inspired by the objects
defined in the Nist Big Data Reference Architecture NIST (BDRA)
document and are listed below:

\begin{itemize}
\item \textbf{Image}: An Image defines what types of operating systems are
availabe to be used to create a virtual machine on openstack. Each of
the images can have different minimum requirements that are needed to
install the operating system and they must be included in the
object. The minimal image object that was used for the project is
shown in the appendix

\item \textbf{Keypair}: A keypair defines a set of RSA keys that are
generated by openstack to allow usere to correctly identify themselves
and to log into the servers. It has two parts, a public key and a
provate key and is identified with the help of a user defined
name. The minimal object for an image is shown in the appendix.

\item \textbf{Flavor}: Flavors identify the different types of hadrdware
available to the openstack users. A user can select a flavor based on
their needs and the requirements o the image. The flavors include in
their definition the RAM size, disk size, the number of virtual CPUs
and the available swap memory, and are identified using a unique ID
and a name.  A minimal definition of the flavor object is shown in the
appendix

\item \textbf{Server}: A server is another name for a Virtual Machine
running on the openstack cloud. To define a server we must define the
name of the server, the flavor and the image to be used, the secirity
groups and networks that are needed for the server and a keypair that
will be used to connect to the server in the future, along with a
floating IP address. A minimal definition of the server used in the
project is shown in the appendix.

\item \textbf{Networks}: Openstack allows users to set up their own
networks for their virtual machines, and alows them to create new VMs
that use these networks. Networks can be internal or external and can
have subnets created by the user. A minimal definition of the network
object is given in the appendix.

\item \textbf{Subnet}: Subnets allow users to identify and separate
different parts of their openstack networks. A subnet object should
contain a list of DNS servers and shoud identify whether it has a DHCP
server or not.  A minimal definition of the subnet oject is given in
the appendix.
\end{itemize}


\bibliographystyle{ACM-Reference-Format}
\bibliography{report} 
